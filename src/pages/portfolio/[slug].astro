---
import { getCollection } from 'astro:content';
import PortfolioDetailLayout from '../../layouts/PortfolioDetailLayout.astro';
import BaseLayout from '../../layouts/BaseLayout.astro';

export async function getStaticPaths() {
  const portfolioItems = await getCollection('portfolio');
  return portfolioItems.map(item => ({
    params: { slug: item.slug },
    props: { item },
  }));
}

const { item } = Astro.props;
const { Content } = await item.render();
---

<BaseLayout title={item.data.title}>
  <PortfolioDetailLayout {...item.data}>
    <Content />
  </PortfolioDetailLayout>
</BaseLayout>
